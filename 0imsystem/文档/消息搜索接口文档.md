# æ‚Ÿç©ºIMæ¶ˆæ¯æœç´¢æ¥å£æ–‡æ¡£

## ğŸ“‹ æ¥å£æ¦‚è¿°

æ‚Ÿç©ºIMæä¾›äº†å®Œæ•´çš„æ¶ˆæ¯æœç´¢åŠŸèƒ½ï¼Œæ”¯æŒå¤šç§æœç´¢æ–¹å¼å’Œæ¶ˆæ¯ç±»å‹ã€‚æ‰€æœ‰æ¥å£å‡ä¸ºHTTP REST APIï¼Œé€šè¿‡ `http://localhost:5001` æä¾›æœåŠ¡ã€‚

## âš ï¸ é‡è¦è¯´æ˜

**éƒ¨åˆ†æ¥å£å·²è¢«åºŸå¼ƒï¼Œè¯·ä½¿ç”¨æ–°çš„æ¨èæ¥å£ï¼**

| æ¥å£çŠ¶æ€ | è¯´æ˜ |
|----------|------|
| âœ… **æ¨èä½¿ç”¨** | åŠŸèƒ½å®Œæ•´ï¼ŒæŒç»­ç»´æŠ¤ |
| âš ï¸ **å·²åºŸå¼ƒ** | åŠŸèƒ½å—é™ï¼Œä¸æ¨èä½¿ç”¨ |
| ğŸ”„ **å³å°†åºŸå¼ƒ** | åŠŸèƒ½æ­£å¸¸ï¼Œä½†å°†è¢«æ›¿ä»£ |

## ğŸ” å¯ç”¨æœç´¢æ¥å£

### 1. æ‰¹é‡æœç´¢æ¶ˆæ¯æ¥å£ âœ…

#### æ¥å£ä¿¡æ¯
- **æ¥å£åœ°å€**: `POST /messages`
- **åŠŸèƒ½æè¿°**: æ‰¹é‡æœç´¢å¤šæ¡æ¶ˆæ¯ï¼Œæ”¯æŒæŒ‰åºåˆ—å·ã€æ¶ˆæ¯IDã€å®¢æˆ·ç«¯æ¶ˆæ¯ç¼–å·æœç´¢
- **é€‚ç”¨åœºæ™¯**: éœ€è¦è·å–å¤šæ¡æ¶ˆæ¯è¯¦æƒ…çš„åœºæ™¯
- **çŠ¶æ€**: âœ… **æ¨èä½¿ç”¨**

#### è¯·æ±‚å‚æ•°
```json
{
  "login_uid": "user001",                    // ç™»å½•ç”¨æˆ·IDï¼ˆä¸ªäººé¢‘é“å¿…éœ€ï¼‰
  "channel_id": "test_channel_001",          // é¢‘é“ID
  "channel_type": 2,                         // é¢‘é“ç±»å‹ï¼š1-ä¸ªäººé¢‘é“ï¼Œ2-ç¾¤ç»„é¢‘é“
  "message_seqs": [1, 2, 3],                // æ¶ˆæ¯åºåˆ—å·æ•°ç»„ï¼ˆå¯é€‰ï¼‰
  "message_ids": [1957057726722871296],      // æ¶ˆæ¯IDæ•°ç»„ï¼ˆå¯é€‰ï¼‰
  "client_msg_nos": ["uuid1", "uuid2"]      // å®¢æˆ·ç«¯æ¶ˆæ¯ç¼–å·æ•°ç»„ï¼ˆå¯é€‰ï¼‰
}
```

#### å“åº”æ ¼å¼
```json
{
  "start_message_seq": 0,                   // èµ·å§‹æ¶ˆæ¯åºåˆ—å·
  "end_message_seq": 0,                     // ç»“æŸæ¶ˆæ¯åºåˆ—å·
  "more": 0,                                // æ˜¯å¦è¿˜æœ‰æ›´å¤šæ¶ˆæ¯ï¼š0-å¦ï¼Œ1-æ˜¯
  "messages": [                              // æ¶ˆæ¯åˆ—è¡¨
    {
      "header": {                            // æ¶ˆæ¯å¤´ä¿¡æ¯
        "red_dot": 0,                        // çº¢ç‚¹æ ‡è®°ï¼š0-æ— ï¼Œ1-æœ‰
        "sync_once": 0,                      // åŒæ­¥æ ‡è®°ï¼š0-æ™®é€šï¼Œ1-åŒæ­¥
        "no_persist": 0                      // æŒä¹…åŒ–æ ‡è®°ï¼š0-æŒä¹…åŒ–ï¼Œ1-ä¸æŒä¹…åŒ–
      },
      "setting": 0,                          // æ¶ˆæ¯è®¾ç½®æ ‡å¿—
      "message_id": 1957057726722871296,     // æ¶ˆæ¯ID
      "message_idstr": "1957057726722871296", // æ¶ˆæ¯IDå­—ç¬¦ä¸²æ ¼å¼
      "client_msg_no": "uuid1",              // å®¢æˆ·ç«¯æ¶ˆæ¯ç¼–å·
      "message_seq": 1,                      // æ¶ˆæ¯åºåˆ—å·
      "from_uid": "user001",                 // å‘é€è€…ID
      "channel_id": "test_channel_001",      // é¢‘é“ID
      "channel_type": 2,                     // é¢‘é“ç±»å‹
      "expire": 0,                           // æ¶ˆæ¯è¿‡æœŸæ—¶é—´
      "timestamp": 1640995200,               // æ¶ˆæ¯æ—¶é—´æˆ³ï¼ˆç§’çº§Unixæ—¶é—´æˆ³ï¼‰
      "payload": "eyJ0eXBlIjogMSwgImNvbnRlbnQiOiAi5oKf56m6SU3mnI3liqHph43lkK/miJDlip/vvIEifQ=="  // æ¶ˆæ¯å†…å®¹ï¼ˆBase64ç¼–ç ï¼‰
    }
  ]
}
```

#### ä½¿ç”¨ç¤ºä¾‹
```bash
curl -X POST http://localhost:5001/messages \
  -H "Content-Type: application/json" \
  -d '{
    "channel_id": "test_channel_001",
    "channel_type": 2,
    "message_ids": [1957057726722871296]
  }'
```

### 2. å•æ¡æ¶ˆæ¯æœç´¢æ¥å£ âœ…

#### æ¥å£ä¿¡æ¯
- **æ¥å£åœ°å€**: `POST /message`
- **åŠŸèƒ½æè¿°**: æœç´¢å•æ¡æ¶ˆæ¯è¯¦æƒ…
- **é€‚ç”¨åœºæ™¯**: éœ€è¦è·å–å•æ¡æ¶ˆæ¯å®Œæ•´ä¿¡æ¯çš„åœºæ™¯
- **çŠ¶æ€**: âœ… **æ¨èä½¿ç”¨**

#### è¯·æ±‚å‚æ•°
```json
{
  "channel_id": "test_channel_001",          // é¢‘é“ID
  "channel_type": 2,                         // é¢‘é“ç±»å‹ï¼š1-ä¸ªäººé¢‘é“ï¼Œ2-ç¾¤ç»„é¢‘é“
  "message_id": 1957057726722871296          // æ¶ˆæ¯ID
}
```

#### å“åº”æ ¼å¼
```json
{
  "header": {                                // æ¶ˆæ¯å¤´ä¿¡æ¯
    "red_dot": 0,                            // çº¢ç‚¹æ ‡è®°
    "sync_once": 0,                          // åŒæ­¥æ ‡è®°
    "no_persist": 0                          // æŒä¹…åŒ–æ ‡è®°
  },
  "setting": 0,                              // æ¶ˆæ¯è®¾ç½®æ ‡å¿—
  "message_id": 1957057726722871296,         // æ¶ˆæ¯ID
  "message_idstr": "1957057726722871296",    // æ¶ˆæ¯IDå­—ç¬¦ä¸²æ ¼å¼
  "client_msg_no": "uuid1",                  // å®¢æˆ·ç«¯æ¶ˆæ¯ç¼–å·
  "message_seq": 1,                          // æ¶ˆæ¯åºåˆ—å·
  "from_uid": "user001",                     // å‘é€è€…ID
  "channel_id": "test_channel_001",          // é¢‘é“ID
  "channel_type": 2,                         // é¢‘é“ç±»å‹
  "expire": 0,                               // æ¶ˆæ¯è¿‡æœŸæ—¶é—´
  "timestamp": 1640995200,                   // æ¶ˆæ¯æ—¶é—´æˆ³ï¼ˆç§’çº§Unixæ—¶é—´æˆ³ï¼‰
  "payload": "eyJ0eXBlIjogMSwgImNvbnRlbnQiOiAi5oKf56m6SU3mnI3liqHph43lkK/miJDlip/vvIEifQ=="  // æ¶ˆæ¯å†…å®¹ï¼ˆBase64ç¼–ç ï¼‰
}
```

#### ä½¿ç”¨ç¤ºä¾‹
```bash
curl -X POST http://localhost:5001/message \
  -H "Content-Type: application/json" \
  -d '{
    "channel_id": "test_channel_001",
    "channel_type": 2,
    "message_id": 1957057726722871296
  }'
```

### 3. æ¶ˆæ¯åŒæ­¥æ¥å£ âœ… **æ¨èä½¿ç”¨**

#### æ¥å£ä¿¡æ¯
- **æ¥å£åœ°å€**: `POST /channel/messagesync`
- **åŠŸèƒ½æè¿°**: åŒæ­¥æŒ‡å®šæ—¶é—´èŒƒå›´å†…çš„æ¶ˆæ¯
- **é€‚ç”¨åœºæ™¯**: å®¢æˆ·ç«¯ç¦»çº¿åé‡æ–°ä¸Šçº¿ï¼Œéœ€è¦åŒæ­¥å†å²æ¶ˆæ¯
- **çŠ¶æ€**: âœ… **æ¨èä½¿ç”¨**

#### è¯·æ±‚å‚æ•°
```json
{
  "login_uid": "user001",                    // ç™»å½•ç”¨æˆ·ID
  "channel_id": "test_channel_001",          // é¢‘é“ID
  "channel_type": 2,                         // é¢‘é“ç±»å‹ï¼š1-ä¸ªäººé¢‘é“ï¼Œ2-ç¾¤ç»„é¢‘é“
  "start_message_seq": 0,                    // èµ·å§‹æ¶ˆæ¯åºåˆ—å·
  "end_message_seq": 100,                    // ç»“æŸæ¶ˆæ¯åºåˆ—å·
  "limit": 50,                               // è¿”å›æ¶ˆæ¯æ•°é‡é™åˆ¶ï¼ˆå¯é€‰ï¼Œé»˜è®¤50ï¼‰
  "pull_mode": 0,                            // æ‹‰å–æ¨¡å¼ï¼ˆå¯é€‰ï¼‰ï¼š0-å‘ä¸‹æ‹‰å–ï¼Œ1-å‘ä¸Šæ‹‰å–
  "stream_v2": 0                             // æ˜¯å¦ä½¿ç”¨stream_v2ï¼ˆå¯é€‰ï¼‰ï¼š0-å¦ï¼Œ1-æ˜¯
}
```

#### å“åº”æ ¼å¼
```json
{
  "start_message_seq": 0,                   // èµ·å§‹æ¶ˆæ¯åºåˆ—å·
  "end_message_seq": 50,                    // ç»“æŸæ¶ˆæ¯åºåˆ—å·
  "more": 1,                                // æ˜¯å¦è¿˜æœ‰æ›´å¤šæ¶ˆæ¯ï¼š0-å¦ï¼Œ1-æ˜¯
  "messages": [                              // æ¶ˆæ¯åˆ—è¡¨
    {
      "header": {                            // æ¶ˆæ¯å¤´ä¿¡æ¯
        "red_dot": 0,                        // çº¢ç‚¹æ ‡è®°
        "sync_once": 0,                      // åŒæ­¥æ ‡è®°
        "no_persist": 0                      // æŒä¹…åŒ–æ ‡è®°
      },
      "setting": 0,                          // æ¶ˆæ¯è®¾ç½®æ ‡å¿—
      "message_id": 1957057726722871296,     // æ¶ˆæ¯ID
      "message_idstr": "1957057726722871296", // æ¶ˆæ¯IDå­—ç¬¦ä¸²æ ¼å¼
      "client_msg_no": "uuid1",              // å®¢æˆ·ç«¯æ¶ˆæ¯ç¼–å·
      "message_seq": 1,                      // æ¶ˆæ¯åºåˆ—å·
      "from_uid": "user001",                 // å‘é€è€…ID
      "channel_id": "test_channel_001",      // é¢‘é“ID
      "channel_type": 2,                     // é¢‘é“ç±»å‹
      "expire": 0,                           // æ¶ˆæ¯è¿‡æœŸæ—¶é—´
      "timestamp": 1640995200,               // æ¶ˆæ¯æ—¶é—´æˆ³ï¼ˆç§’çº§Unixæ—¶é—´æˆ³ï¼‰
      "payload": "eyJ0eXBlIjogMSwgImNvbnRlbnQiOiAi5oKf56m6SU3mnI3liqHph43lkK/miJDlip/vvIEifQ=="  // æ¶ˆæ¯å†…å®¹ï¼ˆBase64ç¼–ç ï¼‰
    }
  ]
}
```

#### ä½¿ç”¨ç¤ºä¾‹
```bash
curl -X POST http://localhost:5001/channel/messagesync \
  -H "Content-Type: application/json" \
  -d '{
    "login_uid": "user001",
    "channel_id": "test_channel_001",
    "channel_type": 2,
    "start_message_seq": 0,
    "end_message_seq": 100,
    "limit": 50,
    "pull_mode": 0
  }'
```

### 4. è·å–é¢‘é“æœ€å¤§æ¶ˆæ¯åºå· âœ…

#### æ¥å£ä¿¡æ¯
- **æ¥å£åœ°å€**: `GET /channel/max_message_seq`
- **åŠŸèƒ½æè¿°**: è·å–æŒ‡å®šé¢‘é“çš„æœ€å¤§æ¶ˆæ¯åºå·
- **é€‚ç”¨åœºæ™¯**: éœ€è¦äº†è§£é¢‘é“æœ€æ–°æ¶ˆæ¯çŠ¶æ€çš„åœºæ™¯
- **çŠ¶æ€**: âœ… **æ¨èä½¿ç”¨**

#### è¯·æ±‚å‚æ•°
```
GET /channel/max_message_seq?channel_id=test_channel_001&channel_type=2
```

#### å“åº”æ ¼å¼
```json
{
  "message_seq": 6                           // é¢‘é“æœ€å¤§æ¶ˆæ¯åºå·
}
```

#### ä½¿ç”¨ç¤ºä¾‹
```bash
curl "http://localhost:5001/channel/max_message_seq?channel_id=test_channel_001&channel_type=2"
```

## âš ï¸ å·²åºŸå¼ƒæ¥å£ï¼ˆä¸æ¨èä½¿ç”¨ï¼‰

### 1. æ—§æ¶ˆæ¯åŒæ­¥æ¥å£ âŒ **å·²åºŸå¼ƒ**

#### æ¥å£ä¿¡æ¯
- **æ¥å£åœ°å€**: `POST /message/sync`
- **åŠŸèƒ½æè¿°**: æ—§ç‰ˆæ¶ˆæ¯åŒæ­¥æ¥å£
- **çŠ¶æ€**: âŒ **å·²åºŸå¼ƒï¼Œä¸æ¨èä½¿ç”¨**
- **æ›¿ä»£æ¥å£**: `POST /channel/messagesync`

#### åºŸå¼ƒåŸå› 
- åŠŸèƒ½å—é™ï¼Œä»…æ”¯æŒä¸ªäººé¢‘é“
- è¿”å›ç©ºæ•°æ®ï¼Œæ— æ³•æ­£å¸¸ä½¿ç”¨
- å·²è¢«æ–°æ¥å£æ›¿ä»£

#### è¯·æ±‚å‚æ•°ï¼ˆä»…ä¾›å‚è€ƒï¼‰
```json
{
  "uid": "user001",                          // ç”¨æˆ·ID
  "message_seq": 0,                          // æ¶ˆæ¯åºåˆ—å·
  "limit": 10                                // æ¶ˆæ¯æ•°é‡é™åˆ¶
}
```

### 2. æ¶ˆæ¯åŒæ­¥å›æ‰§æ¥å£ âŒ **å·²åºŸå¼ƒ**

#### æ¥å£ä¿¡æ¯
- **æ¥å£åœ°å€**: `POST /message/syncack`
- **åŠŸèƒ½æè¿°**: æ—§ç‰ˆæ¶ˆæ¯åŒæ­¥å›æ‰§æ¥å£
- **çŠ¶æ€**: âŒ **å·²åºŸå¼ƒï¼Œä¸æ¨èä½¿ç”¨**

#### åºŸå¼ƒåŸå› 
- åŠŸèƒ½å·²è¿‡æ—¶
- ä¸æ¨èåœ¨æ–°é¡¹ç›®ä¸­ä½¿ç”¨

## ğŸ“± æ¶ˆæ¯ç±»å‹è¯´æ˜

### æ”¯æŒçš„æ¶ˆæ¯ç±»å‹

| ç±»å‹å€¼ | æ¶ˆæ¯ç±»å‹ | è¯´æ˜ | Payloadç»“æ„ |
|--------|----------|------|-------------|
| 1 | æ–‡æœ¬æ¶ˆæ¯ | æ™®é€šæ–‡æœ¬å†…å®¹ | `{"type": 1, "content": "æ¶ˆæ¯å†…å®¹"}` |
| 2 | å›¾ç‰‡æ¶ˆæ¯ | å›¾ç‰‡æ–‡ä»¶ | `{"type": 2, "url": "å›¾ç‰‡åœ°å€", "width": 200, "height": 320}` |
| 3 | GIFæ¶ˆæ¯ | åŠ¨æ€å›¾ç‰‡ | `{"type": 3, "url": "GIFåœ°å€", "width": 72, "height": 72}` |
| 4 | è¯­éŸ³æ¶ˆæ¯ | è¯­éŸ³æ–‡ä»¶ | `{"type": 4, "url": "è¯­éŸ³åœ°å€", "timeTrad": 10}` |
| 5 | è§†é¢‘æ¶ˆæ¯ | è§†é¢‘æ–‡ä»¶ | `{"type": 5, "url": "è§†é¢‘åœ°å€", "width": 200, "height": 320, "timeTrad": 30}` |
| 6 | ä½ç½®æ¶ˆæ¯ | åœ°ç†ä½ç½® | `{"type": 6, "latitude": 39.9, "longitude": 116.4, "title": "ä½ç½®æ ‡é¢˜"}` |
| 7 | åç‰‡æ¶ˆæ¯ | ç”¨æˆ·åç‰‡ | `{"type": 7, "uid": "ç”¨æˆ·ID", "name": "ç”¨æˆ·å", "avatar": "å¤´åƒåœ°å€"}` |
| 8 | æ–‡ä»¶æ¶ˆæ¯ | æ–‡ä»¶é™„ä»¶ | `{"type": 8, "url": "æ–‡ä»¶åœ°å€", "name": "æ–‡ä»¶å", "size": 1024}` |
| 9 | é“¾æ¥æ¶ˆæ¯ | ç½‘é¡µé“¾æ¥ | `{"type": 9, "url": "é“¾æ¥åœ°å€", "title": "é“¾æ¥æ ‡é¢˜", "desc": "é“¾æ¥æè¿°"}` |
| 10 | ä»£ç æ¶ˆæ¯ | ä»£ç ç‰‡æ®µ | `{"type": 10, "content": "ä»£ç å†…å®¹", "language": "go"}` |
| 11 | è¡¨æƒ…æ¶ˆæ¯ | è¡¨æƒ…ç¬¦å· | `{"type": 11, "content": "ğŸ˜Š"}` |

## ğŸ”§ æ¥å£è°ƒç”¨è¯´æ˜

### åŸºç¡€é…ç½®
- **æœåŠ¡åœ°å€**: `http://localhost:5001`
- **åè®®**: HTTP/HTTPS
- **è¯·æ±‚æ–¹å¼**: POST/GET
- **å†…å®¹ç±»å‹**: `application/json`
- **å­—ç¬¦ç¼–ç **: UTF-8

### è®¤è¯æ–¹å¼
å½“å‰é…ç½®ä¸­è®¤è¯å·²å…³é—­ï¼ˆ`auth.on: false`ï¼‰ï¼Œæ— éœ€è®¤è¯å³å¯è°ƒç”¨æ¥å£ã€‚

### é”™è¯¯å¤„ç†
æ¥å£è°ƒç”¨å¤±è´¥æ—¶ä¼šè¿”å›ç›¸åº”çš„HTTPçŠ¶æ€ç å’Œé”™è¯¯ä¿¡æ¯ï¼š

```json
{
  "error": "é”™è¯¯æè¿°",
  "code": 400
}
```

### å¸¸è§çŠ¶æ€ç 
- **200**: è¯·æ±‚æˆåŠŸ
- **400**: è¯·æ±‚å‚æ•°é”™è¯¯
- **404**: èµ„æºä¸å­˜åœ¨
- **500**: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

## ğŸ“ ä½¿ç”¨å»ºè®®

### 1. æ¥å£é€‰æ‹©ç­–ç•¥
- **æ¶ˆæ¯æœç´¢**: ä½¿ç”¨ `/messages` å’Œ `/message` æ¥å£
- **æ¶ˆæ¯åŒæ­¥**: ä½¿ç”¨ `/channel/messagesync` æ¥å£ï¼ˆæ¨èï¼‰
- **çŠ¶æ€æŸ¥è¯¢**: ä½¿ç”¨ `/channel/max_message_seq` æ¥å£
- **é¿å…ä½¿ç”¨**: å·²åºŸå¼ƒçš„ `/message/sync` å’Œ `/message/syncack` æ¥å£

### 2. æ€§èƒ½ä¼˜åŒ–
- åˆç†è®¾ç½® `limit` å‚æ•°ï¼Œé¿å…ä¸€æ¬¡æ€§è¿”å›è¿‡å¤šæ•°æ®
- ä½¿ç”¨ `message_ids` è¿›è¡Œç²¾ç¡®æœç´¢ï¼Œæ€§èƒ½æœ€ä½³
- é¿å…é¢‘ç¹è°ƒç”¨æ¥å£ï¼Œå»ºè®®å®ç°æœ¬åœ°ç¼“å­˜
- ä½¿ç”¨ `pull_mode` å‚æ•°æ§åˆ¶æ‹‰å–æ–¹å‘

### 3. é”™è¯¯å¤„ç†
- å®ç°é‡è¯•æœºåˆ¶ï¼Œå¤„ç†ç½‘ç»œå¼‚å¸¸
- è®°å½•é”™è¯¯æ—¥å¿—ï¼Œä¾¿äºé—®é¢˜æ’æŸ¥
- è®¾ç½®åˆç†çš„è¶…æ—¶æ—¶é—´

### 4. æ•°æ®è§£æ
- Payloadå­—æ®µä¸ºBase64ç¼–ç ï¼Œéœ€è¦è§£ç åä½¿ç”¨
- æ³¨æ„å¤„ç†ä¸åŒæ¶ˆæ¯ç±»å‹çš„ç‰¹æ®Šå­—æ®µ
- **æ—¶é—´æˆ³ä¸ºç§’çº§Unixæ—¶é—´æˆ³**ï¼ˆä¸æ˜¯æ¯«ç§’çº§ï¼‰

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. æµ‹è¯•æ¥å£è¿é€šæ€§
```bash
curl http://localhost:5001/health
```

### 2. å‘é€æµ‹è¯•æ¶ˆæ¯
```bash
# ç¼–ç æ¶ˆæ¯å†…å®¹
echo -n '{"type": 1, "content": "æµ‹è¯•æ¶ˆæ¯"}' | base64

# å‘é€æ¶ˆæ¯
curl -X POST http://localhost:5001/message/send \
  -H "Content-Type: application/json" \
  -d '{
    "from_uid": "user001",
    "channel_id": "test_channel_001",
    "channel_type": 2,
    "payload": "eyJ0eXBlIjogMSwgImNvbnRlbnQiOiAi5rWL6K+V6K+36L6T5YWlIn0="
  }'
```

### 3. åŒæ­¥æ¶ˆæ¯
```bash
# åŒæ­¥é¢‘é“æ¶ˆæ¯ï¼ˆæ¨èï¼‰
curl -X POST http://localhost:5001/channel/messagesync \
  -H "Content-Type: application/json" \
  -d '{
    "login_uid": "user001",
    "channel_id": "test_channel_001",
    "channel_type": 2,
    "start_message_seq": 0,
    "end_message_seq": 0,
    "limit": 10
  }'
```

### 4. æœç´¢æ¶ˆæ¯
```bash
# æœç´¢å•æ¡æ¶ˆæ¯
curl -X POST http://localhost:5001/message \
  -H "Content-Type: application/json" \
  -d '{
    "channel_id": "test_channel_001",
    "channel_type": 2,
    "message_id": "è¿”å›çš„æ¶ˆæ¯ID"
  }'
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. æ‚Ÿç©ºIMæœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ
2. æ¥å£åœ°å€å’Œå‚æ•°æ˜¯å¦æ­£ç¡®
3. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
4. æœåŠ¡æ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯

## ğŸ”„ æ¥å£æ›´æ–°å†å²

| ç‰ˆæœ¬ | æ›´æ–°å†…å®¹ | çŠ¶æ€ |
|------|----------|------|
| v1.1 | æ ‡è®°åºŸå¼ƒæ¥å£ï¼Œæ¨èæ–°æ¥å£ | âœ… å½“å‰ç‰ˆæœ¬ |
| v1.0 | åˆå§‹ç‰ˆæœ¬ | âŒ å·²è¿‡æ—¶ |

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.1  
**æ›´æ–°æ—¶é—´**: 2024å¹´12æœˆ  
**æ‚Ÿç©ºIMç‰ˆæœ¬**: v2.2.0  
**é‡è¦æé†’**: è¯·ä½¿ç”¨æ¨èçš„æ¥å£ï¼Œé¿å…ä½¿ç”¨å·²åºŸå¼ƒçš„æ¥å£ï¼
