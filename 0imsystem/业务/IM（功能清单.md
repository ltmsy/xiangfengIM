
# IM（PC网页与桌面端）功能清单（V1基础版）
布局：三栏（左侧：头像/会话/好友/群组/收藏/设置/退出；中栏：列表；右栏：聊天/详情）。主题：紫色（亮/暗/随系统）。本清单只保留V1基础版最核心功能，大幅精简配置策略。

---

## 0. 全局与外观
- 三栏布局（记忆宽度、低宽度自动双栏）
- 主题与可访问性（紫色主题强度、暗色、字号/密度、色弱/高对比）
- 全局搜索入口、会话内搜索入口

---

## 1. 账户与身份
- 登录/登出：账号密码/二步验证
- 在线状态：在线/离线
- 个人资料：头像/昵称/签名/ID/二维码
- 黑名单：添加/移除；被拉黑者的行为限制（消息、加好友、查看资料）
- 多设备管理：PC网页、PC桌面、移动APP三端支持；单账号最多三端同时在线；每端仅限一个账号登录
- 设备管理：查看在线设备、强制下线、设备信息（设备类型/登录时间/最后活跃）、设备绑定验证

---

## 2. 会话（单聊/群聊/服务号/系统）
- 会话创建：从好友/搜索/名片、一键发起群聊
- 会话列表：置顶、未读计数、免打扰标识、草稿标识、分组/折叠
- 会话管理（通用）
  - 打开
  - 置顶/取消置顶
  - 标为未读/已读
  - 免打扰/取消免打扰（是否仅消息/同时静音@）
  - 删除会话（仅移出列表，不删云端历史）
  - 清空会话消息（范围：仅本端/云端同步）
- 会话权限策略（简化配置）
  - 免打扰是否屏蔽@我/仅静音
  - 会话历史是否可被导出（用户/仅管理员/禁止）
- 群会话特有
  - 退出群（成员）
  - 解散群（群主/管理员）
  - 查看群资料/成员/公告/置顶区/文件中心
  - 修改我的群昵称
  - 邀请入群（成员/管理员/群主，权限可配）

---

## 3. 消息能力与策略
- 消息类型：文本、表情/贴纸、图片、文件、链接卡片、代码片段、名片
- 发送与输入：拖拽/粘贴、模板短语
- 消息操作（单条）
  - 引用/回复
  - 复制（纯文本/含格式）
  - 转发（单条/合并转发）
  - 撤回（是否允许；撤回时限：1分钟/5分钟/永久；撤回后提示样式）
  - 编辑（是否允许；时限；是否标注"已编辑"）
  - 置顶（会话内置顶区；是否允许普通成员置顶；置顶数量上限）
  - 删除（对自己可见删除；是否允许管理员删除他人消息）
  - 收藏
- 名片分享：分享好友名片到会话
- 批量操作：多选转发/删除/收藏/导出（是否允许导出原文或仅截图）
- 已读与送达：单聊已读/送达、群聊是否显示"已读人数"
- 富文本：粗体、斜体、下划线
- @功能：@某人、@全体（权限控制）
- 消息状态：发送中、发送成功、发送失败、重发
- 草稿功能：自动保存、手动保存、恢复草稿
- 消息历史：云端同步、离线获取、历史消息加载
- 风险/内容安全策略
  - 敏感词检测（拦截/提醒/替换）
  - 外链风险标注；禁止域名单
  - 文件白名单与最大体积（原图策略）

---

## 4. 好友与通讯录
- 好友列表：分组（默认/星标/自定义）、备注、在线状态
- 搜索：姓名/备注
- 好友关系管理
  - 添加好友（是否需要验证；验证方式：自由通过/需验证）
  - 同意/拒绝/忽略
  - 设置备注、移动分组、设为星标/取消
  - 删除好友（是否保留会话与历史）
  - 拉黑/移出黑名单（拉黑范围：消息、加好友、查看资料）
- 好友请求记录：我发出的请求、收到的请求、处理状态、时间记录
- 隐私策略（简化配置）
  - 谁可以向我发起好友申请（所有人/仅好友）
  - 是否允许被通过后自动建会话
  - 是否允许从群聊直接添加为好友（开启/需验证/禁止）

---

## 5. 群组与群治理
- 创建与加入
  - 新建群（选择成员）；通过邀请链接/二维码加入（是否开启；是否需要审批；有效期与次数限制）
- 群资料
  - 群头像、名称、描述、公告
  - 邀请方式（链接/二维码/管理员邀请）
- 成员与角色
  - 角色：群主、管理员、普通成员
  - 设置/撤销管理员
  - 邀请成员/移除成员（权限：群主/管理员）
- 群请求记录：我发出的邀请、收到的入群申请、处理状态、时间记录
- 群设置（简化配置）
  - 新成员是否可查看历史消息（不可见/可见部分（X天）/全部可见）
  - 群禁言（全员禁言/分角色例外；单人禁言（时长））
  - @全体权限（仅群主/管理员/全员禁用）
  - 置顶消息（是否允许；谁可置顶；置顶数量上限）
  - 是否允许普通成员编辑自己消息
  - 是否允许撤回消息（时限；角色例外）
  - 是否允许从群内添加好友（开启/需验证/禁止）
  - 入群审批（开启/关闭；审批人范围）
  - 加群方式（搜索可见/仅邀请/链接入群）
- 群内容沉淀
  - 置顶区（消息卡片/链接/文件）
  - 文件/图片/链接页签（筛选/搜索/批量）
- 解散与退出
  - 退出群（成员）
  - 解散群（群主）；解散后历史不可见

---

## 6. 文件与下载
- 上传/发送：拖拽/粘贴/选择器；断点续传；失败重试；并发控制
- 预览：图片内联
- 文件策略（简化配置）
  - 单文件大小上限；每日外发带宽/次数
  - 原图/压缩默认；超过阈值询问
  - 禁止类型/高风险类型拦截；敏感内容检测
- 会话文件中心：类型/发送人/时间筛选；批量转发/收藏/下载/删除记录

---

## 7. 搜索与检索
- 全局搜索：对象（人/群/消息/文件/链接/收藏）；条件（关键词、发送人、时间、类型、群/单聊）
- 会话内搜索：关键词、上一条/下一条、仅看图片/文件/链接/代码、按日期跳转
- 收藏搜索：按类型/来源/时间

---

## 8. 通知与状态
- 通知：普通/仅@我/免打扰；前台聚焦抑制
- 徽标与计数：应用图标/托盘/任务栏计数（桌面端）
- 已读回执：单聊开启；群聊是否展示"已读人数"
- 在线状态展示：列表/名片

---

## 9. 收藏与标记
- 收藏对象：消息/图片/文件/链接/代码片段
- 收藏夹：批量操作/导出（是否允许导出）

---

## 10. 设置中心（V1基础配置）
- 账号与安全：密码/二步验证/全部登出/设备管理
- 聊天与输入：Enter行为；字体/字号/密度
- 外观与主题：亮/暗/随系统；紫色强度；色弱/高对比
- 文件与下载：默认目录；并发/断点续传；原图策略
- 通知与声音：开关；免打扰时间；仅@我
- 隐私与权限：
  - 添加我的验证（自由通过/需验证）
  - 谁可向我发起会话（所有人/仅好友）
  - 是否允许通过群直接加我为好友（开启/需验证/禁止）
  - 是否允许向我发送文件（限制扩展名/大小）
- 关于：版本/检查更新/协议

---

## 11. 安全与合规
- 登录安全：短期Token+刷新（网页端）；CSRF；Cookie SameSite
- 本地数据（桌面端）：数据库加密
- 内容安全：敏感词/涉政/涉黄/木马文件检测；外域限制；可疑链接提示
- 权限矩阵（简化版）：群主/管理员/普通成员预设权限包
- 设备安全：设备绑定验证；异常登录检测；设备列表管理

---

## 12. 版本里程碑（精简版）
- **V1 基础**：会话与消息核心操作（引用/复制/转发/撤回/编辑/置顶/删除/收藏）、会话管理（置顶/免打扰/删除/清空；群：退出/解散）、好友（验证/删除/拉黑）、搜索、文件发送/预览、收藏、通知与设置
- **V2 进阶**：多窗口、语音/视频、富文本编辑、群禁言/审批、置顶区、文件中心、下载管理器、高级搜索
- **V3 企业**：权限管理、内容审核、数据导出、审计留存、设备管理


V1核心功能保留
✅ 会话管理：创建、置顶、免打扰、删除、清空
✅ 消息操作：发送、引用、复制、转发、撤回、编辑、置顶、删除、收藏、分享名片
✅ 好友管理：添加、验证、删除、拉黑
✅ 群组功能：创建、邀请、角色管理、禁言、审批
✅ 文件传输：上传、预览、下载
✅ 搜索功能：全局搜索、会话内搜索
✅ 基础设置：账号安全、外观主题、通知声音